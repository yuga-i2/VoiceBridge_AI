@call_bp.route('/api/call/simple-test', methods=['GET', 'POST'])
def twiml_simple_test():
    """Bare minimum TwiML - just a simple greeting."""
    try:
        farmer_name = request.args.get('farmer_name', 'Farmer')
        
        twiml = f'''<?xml version="1.0" encoding="UTF-8"?>
<Response>
    <Say voice="Polly.Kajal" language="hi-IN">
        Namaste {farmer_name}. Main Sahaya hoon.
        Mera naam Sahaya hai.
        Yeh ek test call hai.
    </Say>
    <Pause length="2"/>
    <Say voice="Polly.Kajal" language="hi-IN">
        Ek, do, teen. Test pura ho gaya.
    </Say>
</Response>'''
        
        logger.info(f"Simple test TwiML returned for {farmer_name}")
        return Response(twiml, mimetype='text/xml')
        
    except Exception as e:
        logger.error(f"ERROR in simple test: {e}", exc_info=True)
        error_twiml = '''<?xml version="1.0" encoding="UTF-8"?>
<Response>
    <Say voice="Polly.Kajal" language="hi-IN">
        Error. Namaste.
    </Say>
</Response>'''
        return Response(error_twiml, mimetype='text/xml')
